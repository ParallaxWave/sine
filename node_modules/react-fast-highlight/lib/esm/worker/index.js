/* eslint-env worker */
import hjs from 'highlight.js';

onmessage = function onmessage(event) {
  var _event$data = event.data,
      code = _event$data.code,
      languages = _event$data.languages;
  var result;

  if (languages && languages.length === 1) {
    result = hjs.highlight(languages[0], code, true);
  } else {
    result = hjs.highlightAuto(code, languages);
  }

  postMessage(result);
};